<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continental Rail Company - Evidence</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="book-page">
        <div class="border-decoration">
            <header class="main-title">
                <p class="subtitle">Založeno léta páně 1899</p>
                <div class="logo-container">
                    <img src="logo.png" alt="Logo CRC" class="logo">
                </div>
                <h1>Continental Rail Company</h1>
                <p class="tagline">Páteř pokroku, tepna civilizace</p>
                <p class="intro">Vítejte v evidenci zaměstnanců železniční společnosti. Vyberte svého zaměstnance a začněte směnu.</p>
            </header>
            <nav class="book-nav">
                <p class="section-label">Výběr zaměstnance</p>
                <ul>
                    <li><a href="postava.html?id=Joshue-Thorne">Joshue Thorne</a></li>
                    <li><a href="postava.html?id=Elizabeth-Brown">Elizabeth Brown</a></li>
                    <li><a href="postava.html?id=Henry-Brown">Henry Brown</a></li>
                    <li><a href="postava.html?id=Nicholas-Carter">Nicholas Carter</a></li>
                </ul>
            </nav>
        </div>

        <!-- Changelog Modal -->
        <div id="changelog-modal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeChangelog()">&times;</span>
                <h2>Changelog - Continental Rail Company</h2>
                <table class="changelog-table">
                    <thead>
                        <tr>
                            <th>Verze</th>
                            <th>Změny</th>
                            <th>Přečteno</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2.4</td>
                            <td>Přidány poznámky k trasám: LOCAL TRAIN (žádná omezení), EXPRES/BULLET TRAIN (omezení v MacFarlane's Ranch kvůli vlkům).</td>
                            <td><input type="checkbox" id="v2.4" onchange="checkChangelog()"></td>
                        </tr>
                        <tr>
                            <td>2.3</td>
                            <td>Přidána funkce průvodčích: Po dokončení jízdy výběr průvodčího s odesláním reportu na jeho Discord webhook (služba, prodané jízdenky).</td>
                            <td><input type="checkbox" id="v2.3" onchange="checkChangelog()"></td>
                        </tr>
                        <tr>
                            <td>2.2</td>
                            <td>Aktualizace tras vlaků: EXPRES TRAIN (nové intervaly bez Oil Fields, s extra časy pro náklad), BULLET TRAIN (nová trasa s Olejárkou) a LOCAL TRAIN (zkrácené časy s extra pro Valentine a Saint Denis).</td>
                            <td><input type="checkbox" id="v2.2" onchange="checkChangelog()"></td>
                        </tr>
                        <tr>
                            <td>2.1</td>
                            <td>Přidány osobní reporty zaměstnanců na Discord s kumulovanými statistikami. Uložení dat do localStorage pro trvalé sledování.</td>
                            <td><input type="checkbox" id="v2.1" onchange="checkChangelog()"></td>
                        </tr>
                        <tr>
                            <td>1.1</td>
                            <td>Vylepšený vizuál s retro fonty a zlatými akcenty. Přidány ornamenty a animace.</td>
                            <td><input type="checkbox" id="v1.1" onchange="checkChangelog()"></td>
                        </tr>
                        <tr>
                            <td>1.0</td>
                            <td>Počáteční vydání s výběrem zaměstnanců a správou směn.</td>
                            <td><input type="checkbox" id="v1.0" onchange="checkChangelog()"></td>
                        </tr>
                    </tbody>
                </table>
                <button class="rp-button" onclick="closeChangelog()">Zavřít</button>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            if (!sessionStorage.getItem('changelogShown')) {
                document.getElementById('changelog-modal').style.display = 'block';
                sessionStorage.setItem('changelogShown', 'true');
            }
        };

        function closeChangelog() {
            document.getElementById('changelog-modal').style.display = 'none';
        }

        function checkChangelog() {
            // Optional: save to localStorage if all checked
            const checks = document.querySelectorAll('#changelog-modal input[type="checkbox"]');
            const allChecked = Array.from(checks).every(cb => cb.checked);
            if (allChecked) {
                localStorage.setItem('changelogRead', 'true');
            }
        }
    </script>
</body>
</html>